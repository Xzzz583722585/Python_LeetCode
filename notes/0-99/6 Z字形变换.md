# 题目描述

将一个给定字符串根据给定的行数，以从上往下、从左到右进行 Z 字形排列。

比如输入字符串为 "LEETCODEISHIRING" 行数为 3 时，排列如下：

![](figs/0-99/6_示例1.jpg)

之后，你的输出需要从左往右逐行读取，产生出一个新的字符串，比如："LCIRETOESIIGEDHN"。
``
请你实现这个将字符串进行指定行数变换的函数：

string convert(string s, int numRows);

示例 1:

输入: s = "LEETCODEISHIRING", numRows = 3

输出: "LCIRETOESIIGEDHN"

示例 2:

输入: s = "LEETCODEISHIRING", numRows = 4

输出: "LDREOEIIECIHNTSG"

解释:

![](figs/0-99/6_示例2.jpg)

# 解题思路

## 暴力解法

所谓暴力解法，即提前按照行数numRows准备好numRows个list，然后遍历原字符串，依次按照Z字形变换放置到合适的list的合适位置，这时需要注意如下几个问题：

1.如下讨论的所有列数c 都是指第 c=c%numRows 列，例如numRows=3时，只讨论第0、1、2列，其余列情况依次类推。
2.第0列的情况是：从当前字符开始，依次将字符按照从0到numRows-1的序号顺序填入list中
3.第1至numRows-1列的情况是（第c列）：将当前字符填入到序号为numRows-1-c的list中

## 数学归纳

为方便对字符标号，请忽略示例中的空格。

示例 1:
输入: s = "L0 E1 E2 T3 C4 O5 D6 E7 I8 S9 H10  I11  R12  I13  N14  G15", numRows = 3

输出: "L0 C1 I2 R3 E4 T5 O6 E7 S8 I9 I10  G11  E12  D13  H14  N15"

解释:

![](figs/0-99/6_示例1解析.jpg)

如上所示，我们可以直观地观察到，本题的Z字变换，包含三部分：“|/|”，它们构成了一个Z字，我们称之为左竖、中斜、右竖（中二又没有文化的名字）。
相邻两个Z的左竖与右竖是重合的，所以一个完整的Z只包含左竖和中斜。

那么，当行数为numRows时，一个完整的Z包含多少字符呢？
一个竖边的字符数即为numRows个。
一个斜边的字符数也为numRows个。
但竖边和斜边会有两交点处的重合，所以，一个完整的Z的字符总数n=2*numRows-2。

示例1中，将所有字符按Z分组后的情况为：

![avatar][fig_ZGroup]

要输出最终答案，我们要做的事情就是：逐行遍历一个Z的结构，并将所有Z的此行的遍历结果，按照先后顺后拼接起来。

拼接每次的遍历结果并不难，最后的难点是如何逐行遍历一个Z？

与其说是Z，不如说现在的结构是V，即“|/”形。
按照从上到下的顺序逐行遍历，结合示例中每个Z的结构，很显然我们要做的就是从每个Z的起始位置和结束位置遍历字符，并向中间靠拢。
设当前每个Z含有n个字符，由于当前Z的左竖和下个Z的右竖重合，所以左指针设置为0，右指针设置为下个Z的起始，即n。
当指针越界时，默认返回""，即空字符串。
当左指针大于右指针时，结束遍历。

# 代码实现

``` python
class Solution:
    def convert(self, s: str, numRows: int) -> str:
        if numRows <= 0:
            return ""
        if numRows == 1:
            return s
        length = len(s)
        n = 2 * numRows - 2     # Z中字符总数
        left, right = 0, n
        res = ""
        while left <= right:
            tmp = ""
            i = 0   # 当前Z的起始字符下标
            while i < length:
                if i + left < length:
                    tmp += s[i + left]
                if n > right != left and i + right < length:
                    tmp += s[i + right]
                i += n
            res += tmp

            left += 1
            right -= 1

        return res
```

[fig_ZGroup]:data:img/jpg;base64,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